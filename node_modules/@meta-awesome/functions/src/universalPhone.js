import flow from 'lodash/fp/flow';
import split from 'lodash/fp/split';
import join from 'lodash/fp/join';

/**
 * Return a number phone formatted
 * @param {String} region Region of the number (eg. +55)
 * @return {String}
 *
 * @example
 * import universalPhone from '@meta-awesome/functions/src/universalPhone'
 *
 * universalPhone('+55', '(55) 12345-6789')
 * // +5555123456789
 * */
const universalPhone = (region, phone) =>
  `${region}${flow(
    split('('),
    join(''),
    split(')'),
    join(''),
    split('-'),
    join(''),
    split(' '),
    join('')
  )(phone)}`;

export default universalPhone;
