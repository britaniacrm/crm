{"ast":null,"code":"var _jsxFileName = \"/home/rafael/Documentos/britania/COM-front/packages/web/src/layouts/GuestLayout/GuestLayout.js\";\nimport React, { useMemo } from 'react';\nimport PropTypes from 'prop-types';\nimport Grid from '@material-ui/core/Grid';\nimport { administration } from '@britania-crm/services/apis/crmApi/resources/routes';\nimport useCrmApi from '@britania-crm/services/hooks/useCrmApi';\nimport guestBackground from \"@britania-crm/styles/assets/images/default_login_bg.svg\";\nimport { useImageLoaded } from '@britania-crm/utils/files';\nimport { Container, Banner, Border, Content, Box } from './styles';\n\nconst GuestLayout = ({\n  children\n}) => {\n  const {\n    data\n  } = useCrmApi(administration.loginImage, {\n    responseType: 'blob'\n  });\n  const hasImage = useMemo(() => data ? (data === null || data === void 0 ? void 0 : data.size) > 0 : null, [data]);\n  const imageUrl = useMemo(() => hasImage && URL.createObjectURL(data), [data, hasImage]);\n  const imageLoaded = useImageLoaded({\n    src: imageUrl\n  });\n  const image = useMemo(() => {\n    if (hasImage === null) {\n      return undefined;\n    }\n\n    if (imageUrl && imageLoaded) {\n      return imageUrl;\n    }\n\n    return guestBackground;\n  }, [hasImage, imageLoaded, imageUrl]);\n  return /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    sm: 12,\n    md: 7,\n    lg: 8,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Banner, {\n    bgImage: image,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    sm: 12,\n    md: 5,\n    lg: 4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Border, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Content, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 11\n    }\n  }, children))));\n};\n\nGuestLayout.propTypes = {\n  children: PropTypes.any\n};\nGuestLayout.defaultProps = {\n  children: null\n};\nexport default GuestLayout;","map":{"version":3,"sources":["/home/rafael/Documentos/britania/COM-front/packages/web/src/layouts/GuestLayout/GuestLayout.js"],"names":["React","useMemo","PropTypes","Grid","administration","useCrmApi","useImageLoaded","Container","Banner","Border","Content","Box","GuestLayout","children","data","loginImage","responseType","hasImage","size","imageUrl","URL","createObjectURL","imageLoaded","src","image","undefined","guestBackground","propTypes","any","defaultProps"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,OAAhB,QAA+B,OAA/B;AAEA,OAAOC,SAAP,MAAsB,YAAtB;AAEA,OAAOC,IAAP,MAAiB,wBAAjB;AAEA,SAASC,cAAT,QAA+B,qDAA/B;AACA,OAAOC,SAAP,MAAsB,wCAAtB;;AAEA,SAASC,cAAT,QAA+B,2BAA/B;AAEA,SACEC,SADF,EAEEC,MAFF,EAGEC,MAHF,EAIEC,OAJF,EAKEC,GALF,QAMO,UANP;;AAQA,MAAMC,WAAW,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAkB;AACpC,QAAM;AAAEC,IAAAA;AAAF,MAAWT,SAAS,CAACD,cAAc,CAACW,UAAhB,EAA4B;AAAEC,IAAAA,YAAY,EAAE;AAAhB,GAA5B,CAA1B;AAEA,QAAMC,QAAQ,GAAGhB,OAAO,CACtB,MAAMa,IAAI,GAAG,CAAAA,IAAI,SAAJ,IAAAA,IAAI,WAAJ,YAAAA,IAAI,CAAEI,IAAN,IAAa,CAAhB,GAAoB,IADR,EAEtB,CAACJ,IAAD,CAFsB,CAAxB;AAKA,QAAMK,QAAQ,GAAGlB,OAAO,CACtB,MAAMgB,QAAQ,IAAIG,GAAG,CAACC,eAAJ,CAAoBP,IAApB,CADI,EAEtB,CAACA,IAAD,EAAOG,QAAP,CAFsB,CAAxB;AAKA,QAAMK,WAAW,GAAGhB,cAAc,CAAC;AAAEiB,IAAAA,GAAG,EAAEJ;AAAP,GAAD,CAAlC;AAEA,QAAMK,KAAK,GAAGvB,OAAO,CACnB,MAAM;AACJ,QAAIgB,QAAQ,KAAK,IAAjB,EAAuB;AACrB,aAAOQ,SAAP;AACD;;AAED,QAAIN,QAAQ,IAAIG,WAAhB,EAA6B;AAC3B,aAAOH,QAAP;AACD;;AACD,WAAOO,eAAP;AACD,GAVkB,EAWnB,CAACT,QAAD,EAAWK,WAAX,EAAwBH,QAAxB,CAXmB,CAArB;AAcA,sBACE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEE,oBAAC,IAAD;AAAM,IAAA,IAAI,MAAV;AAAW,IAAA,EAAE,EAAG,EAAhB;AAAqB,IAAA,EAAE,EAAG,EAA1B;AAA+B,IAAA,EAAE,EAAG,CAApC;AAAwC,IAAA,EAAE,EAAG,CAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AAAQ,IAAA,OAAO,EAAGK,KAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAFF,eAME,oBAAC,IAAD;AAAM,IAAA,IAAI,MAAV;AAAW,IAAA,EAAE,EAAG,EAAhB;AAAqB,IAAA,EAAE,EAAG,EAA1B;AAA+B,IAAA,EAAE,EAAG,CAApC;AAAwC,IAAA,EAAE,EAAG,CAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGX,QADH,CAFF,CADF,CANF,CADF;AAkBD,CA/CD;;AAiDAD,WAAW,CAACe,SAAZ,GAAwB;AAAEd,EAAAA,QAAQ,EAAEX,SAAS,CAAC0B;AAAtB,CAAxB;AAEAhB,WAAW,CAACiB,YAAZ,GAA2B;AAAEhB,EAAAA,QAAQ,EAAE;AAAZ,CAA3B;AAEA,eAAeD,WAAf","sourcesContent":["import React, { useMemo } from 'react'\n\nimport PropTypes from 'prop-types'\n\nimport Grid from '@material-ui/core/Grid'\n\nimport { administration } from '@britania-crm/services/apis/crmApi/resources/routes'\nimport useCrmApi from '@britania-crm/services/hooks/useCrmApi'\nimport guestBackground from '@britania-crm/styles/assets/images/default_login_bg.svg'\nimport { useImageLoaded } from '@britania-crm/utils/files'\n\nimport {\n  Container,\n  Banner,\n  Border,\n  Content,\n  Box\n} from './styles'\n\nconst GuestLayout = ({ children }) => {\n  const { data } = useCrmApi(administration.loginImage, { responseType: 'blob' })\n\n  const hasImage = useMemo(\n    () => data ? data?.size > 0 : null,\n    [data]\n  )\n\n  const imageUrl = useMemo(\n    () => hasImage && URL.createObjectURL(data),\n    [data, hasImage]\n  )\n\n  const imageLoaded = useImageLoaded({ src: imageUrl })\n\n  const image = useMemo(\n    () => {\n      if (hasImage === null) {\n        return undefined\n      }\n\n      if (imageUrl && imageLoaded) {\n        return imageUrl\n      }\n      return guestBackground\n    },\n    [hasImage, imageLoaded, imageUrl]\n  )\n\n  return (\n    <Container>\n\n      <Grid item xs={ 12 } sm={ 12 } md={ 7 } lg={ 8 }>\n        <Banner bgImage={ image }/>\n      </Grid>\n\n      <Grid item xs={ 12 } sm={ 12 } md={ 5 } lg={ 4 }>\n        <Box>\n          <Border />\n          <Content>\n            {children}\n          </Content>\n        </Box>\n      </Grid>\n\n    </Container>\n  )\n}\n\nGuestLayout.propTypes = { children: PropTypes.any }\n\nGuestLayout.defaultProps = { children: null }\n\nexport default GuestLayout\n"]},"metadata":{},"sourceType":"module"}