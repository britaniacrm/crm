{"ast":null,"code":"import { cpf, cnpj } from 'cpf-cnpj-validator';\nimport size from 'lodash/size';\nimport { trimMask } from '@britania-crm/utils/formatters';\nexport default (({\n  t,\n  mode\n}) => YupInstance => YupInstance.test('cpf', t('invalid CPF'), value => {\n  if (value && mode !== 'cnpj' && size(trimMask(value || '')) <= 11) {\n    return cpf.isValid(value);\n  }\n\n  return true;\n}).test('cnpj', t('invalid CNPJ'), value => {\n  if (value && (mode === 'cnpj' || size(trimMask(value || '')) > 11)) {\n    return cnpj.isValid(value);\n  }\n\n  return true;\n}));","map":{"version":3,"sources":["/home/rafael/Documentos/britania/COM-front/packages/core/forms/validators/cpfCnpj.validator.js"],"names":["cpf","cnpj","size","trimMask","t","mode","YupInstance","test","value","isValid"],"mappings":"AACA,SACEA,GADF,EAEEC,IAFF,QAGO,oBAHP;AAKA,OAAOC,IAAP,MAAiB,aAAjB;AAEA,SAASC,QAAT,QAAyB,gCAAzB;AAEA,gBAAe,CAAC;AAAEC,EAAAA,CAAF;AAAKC,EAAAA;AAAL,CAAD,KAAkBC,WAAD,IAAiBA,WAAW,CACzDC,IAD8C,CACzC,KADyC,EAClCH,CAAC,CAAC,aAAD,CADiC,EACfI,KAAD,IAAW;AACxC,MAAIA,KAAK,IAAIH,IAAI,KAAK,MAAlB,IAA4BH,IAAI,CAACC,QAAQ,CAACK,KAAK,IAAI,EAAV,CAAT,CAAJ,IAA+B,EAA/D,EAAmE;AACjE,WAAOR,GAAG,CAACS,OAAJ,CAAYD,KAAZ,CAAP;AACD;;AACD,SAAO,IAAP;AACD,CAN8C,EAO9CD,IAP8C,CAOzC,MAPyC,EAOjCH,CAAC,CAAC,cAAD,CAPgC,EAObI,KAAD,IAAW;AAC1C,MAAIA,KAAK,KAAKH,IAAI,KAAK,MAAT,IAAmBH,IAAI,CAACC,QAAQ,CAACK,KAAK,IAAI,EAAV,CAAT,CAAJ,GAA8B,EAAtD,CAAT,EAAoE;AAClE,WAAOP,IAAI,CAACQ,OAAL,CAAaD,KAAb,CAAP;AACD;;AACD,SAAO,IAAP;AACD,CAZ8C,CAAjD","sourcesContent":["\nimport {\n  cpf,\n  cnpj\n} from 'cpf-cnpj-validator'\n\nimport size from 'lodash/size'\n\nimport { trimMask } from '@britania-crm/utils/formatters'\n\nexport default ({ t, mode }) => (YupInstance) => YupInstance\n  .test('cpf', t('invalid CPF'), (value) => {\n    if (value && mode !== 'cnpj' && size(trimMask(value || '')) <= 11) {\n      return cpf.isValid(value)\n    }\n    return true\n  })\n  .test('cnpj', t('invalid CNPJ'), (value) => {\n    if (value && (mode === 'cnpj' || size(trimMask(value || '')) > 11)) {\n      return cnpj.isValid(value)\n    }\n    return true\n  })\n"]},"metadata":{},"sourceType":"module"}