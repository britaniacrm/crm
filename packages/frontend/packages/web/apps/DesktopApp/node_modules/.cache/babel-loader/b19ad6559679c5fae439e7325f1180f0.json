{"ast":null,"code":"var _jsxFileName = \"/home/rafael/Documentos/britania/COM-front/packages/web/src/modules/representative/containers/financial/Financial.js\";\nimport React, { useCallback, useState } from 'react';\nimport { Scope } from '@unform/core';\nimport PropTypes from 'prop-types';\nimport debounce from 'lodash/debounce';\nimport isEmpty from 'lodash/isEmpty';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Grid from '@material-ui/core/Grid';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport { useT } from '@britania-crm/i18n';\nimport { customer as customerCrmRoutes, clients as clientsCrmRoutes } from '@britania-crm/services/apis/crmApi/resources/routes';\nimport useCrmApi from '@britania-crm/services/hooks/useCrmApi';\nimport InputAutocomplete from '@britania-crm/web-components/InputAutocomplete';\nimport InputDate from '@britania-crm/web-components/InputDate';\nimport InputHidden from '@britania-crm/web-components/InputHidden';\nimport InputText from '@britania-crm/web-components/InputText';\nimport RadioGroup from '@britania-crm/web-components/RadioGroup';\nimport useStyles from '../styles';\n\nconst Financial = ({\n  disabled,\n  formRef\n}) => {\n  const t = useT();\n  const classes = useStyles();\n  const [shortName, setShortName] = useState('');\n  const [nameMatrix, setNameMatrix] = useState('');\n  const handleParentDataFromApi = useCallback(value => {\n    if (isEmpty(value)) {\n      formRef.current.setFieldError('financial.matrix', 'Matriz Invalida');\n    }\n  }, [formRef]);\n  const {\n    loading\n  } = useCrmApi(nameMatrix ? [customerCrmRoutes.getInfoCustomer, nameMatrix] : null, {\n    params: {\n      page: 1,\n      pageSize: 10,\n      parentCompany: nameMatrix\n    }\n  }, {\n    onSuccess: handleParentDataFromApi,\n    revalidateOnFocus: false\n  });\n  const handleShortName = useCallback(value => {\n    setShortName(value);\n  }, []);\n  const handleValidNames = useCallback(debounce(value => {\n    if (value !== shortName) {\n      setNameMatrix(value);\n    }\n  }, 1000), [shortName]);\n  return /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    spacing: 1,\n    className: classes.containerMain,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Scope, {\n    path: \"financial\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    sm: 12,\n    md: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(InputAutocomplete, {\n    url: clientsCrmRoutes.getGroups,\n    paramName: \"nameClientGroup\",\n    valueKey: \"nameClientGroup\",\n    label: t('customers group'),\n    name: \"clientGroup\",\n    disabled: disabled,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(InputHidden, {\n    name: \"clientGroupCode\",\n    showError: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    sm: 12,\n    md: 5,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(InputText, {\n    name: \"shortName\",\n    label: t('short name'),\n    disabled: disabled,\n    onValueChange: handleShortName,\n    maxLength: 71,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    sm: 12,\n    md: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(InputText, {\n    name: \"matrix\",\n    label: t('matrix', {\n      howMany: 1\n    }),\n    disabled: disabled,\n    onValueChange: handleValidNames,\n    maxLength: 71,\n    InputProps: {\n      endAdornment: /*#__PURE__*/React.createElement(InputAdornment, {\n        position: \"end\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 17\n        }\n      }, loading && /*#__PURE__*/React.createElement(CircularProgress, {\n        color: \"inherit\",\n        size: 18,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 21\n        }\n      }))\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    sm: 12,\n    md: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(InputText, {\n    name: \"historic\",\n    label: t('historic', {\n      howMany: 1\n    }),\n    disabled: disabled,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    sm: 12,\n    md: 4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(InputText, {\n    name: \"carrier\",\n    label: t('carrier'),\n    disabled: disabled,\n    maxLength: 71,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    sm: 12,\n    md: 4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(RadioGroup, {\n    name: \"receivesNfe\",\n    options: [{\n      id: true,\n      name: t('receives nfe')\n    }],\n    clearable: true,\n    disabled: disabled,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    sm: 12,\n    md: 4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(InputText, {\n    name: \"bankInstructions\",\n    label: t('banking instructions'),\n    disabled: disabled,\n    maxLength: 71,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    sm: 12,\n    md: 5,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(InputText, {\n    name: \"standardIncomeInstructions\",\n    label: t('standard recipe instructions'),\n    disabled: disabled,\n    maxLength: 71,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    sm: 12,\n    md: 7,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    sm: 12,\n    md: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(RadioGroup, {\n    name: \"issueBankSlip\",\n    options: [{\n      id: true,\n      name: t('issues billet')\n    }],\n    clearable: true,\n    disabled: disabled,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    sm: 12,\n    md: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(RadioGroup, {\n    name: \"generatesDebitNotice\",\n    options: [{\n      id: true,\n      name: t('generates debit notice')\n    }],\n    clearable: true,\n    disabled: disabled,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    sm: 12,\n    md: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(RadioGroup, {\n    name: \"calculatesFine\",\n    options: [{\n      id: true,\n      name: t('calculates fine')\n    }],\n    clearable: true,\n    disabled: disabled,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    sm: 12,\n    md: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(RadioGroup, {\n    name: \"receivesSciInformation\",\n    options: [{\n      id: true,\n      name: t('receives sci information')\n    }],\n    clearable: true,\n    disabled: disabled,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    sm: 12,\n    md: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(RadioGroup, {\n    name: \"simpleClient\",\n    options: [{\n      id: true,\n      name: t('simple client')\n    }],\n    clearable: true,\n    disabled: disabled,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    sm: 12,\n    md: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(RadioGroup, {\n    name: \"icmsTaxpayer\",\n    options: [{\n      id: true,\n      name: t('icms taxpayer')\n    }],\n    clearable: true,\n    disabled: disabled,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    sm: 12,\n    md: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(RadioGroup, {\n    name: \"buysPhilco\",\n    options: [{\n      id: true,\n      name: t('receives nfe')\n    }],\n    clearable: true,\n    disabled: disabled,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    sm: 12,\n    md: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(RadioGroup, {\n    name: \"fullNonCumulative\",\n    options: [{\n      id: true,\n      name: t('100% non-cumulative')\n    }],\n    clearable: true,\n    disabled: disabled,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    sm: 12,\n    md: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(InputDate, {\n    name: \"expirationDate\",\n    label: t('validity'),\n    disabled: disabled,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 11\n    }\n  }))));\n};\n\nFinancial.propTypes = {\n  disabled: PropTypes.bool.isRequired,\n  formRef: PropTypes.any.isRequired\n};\nexport default Financial;","map":{"version":3,"sources":["/home/rafael/Documentos/britania/COM-front/packages/web/src/modules/representative/containers/financial/Financial.js"],"names":["React","useCallback","useState","Scope","PropTypes","debounce","isEmpty","CircularProgress","Grid","InputAdornment","useT","customer","customerCrmRoutes","clients","clientsCrmRoutes","useCrmApi","InputAutocomplete","InputDate","InputHidden","InputText","RadioGroup","useStyles","Financial","disabled","formRef","t","classes","shortName","setShortName","nameMatrix","setNameMatrix","handleParentDataFromApi","value","current","setFieldError","loading","getInfoCustomer","params","page","pageSize","parentCompany","onSuccess","revalidateOnFocus","handleShortName","handleValidNames","containerMain","getGroups","howMany","endAdornment","id","name","propTypes","bool","isRequired","any"],"mappings":"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","sourcesContent":["import React, {\n  useCallback,\n  useState\n} from 'react'\n\nimport { Scope } from '@unform/core'\nimport PropTypes from 'prop-types'\n\nimport debounce from 'lodash/debounce'\nimport isEmpty from 'lodash/isEmpty'\n\nimport CircularProgress from '@material-ui/core/CircularProgress'\nimport Grid from '@material-ui/core/Grid'\nimport InputAdornment from '@material-ui/core/InputAdornment'\n\nimport { useT } from '@britania-crm/i18n'\nimport {\n  customer as customerCrmRoutes,\n  clients as clientsCrmRoutes\n} from '@britania-crm/services/apis/crmApi/resources/routes'\nimport useCrmApi from '@britania-crm/services/hooks/useCrmApi'\nimport InputAutocomplete from '@britania-crm/web-components/InputAutocomplete'\nimport InputDate from '@britania-crm/web-components/InputDate'\nimport InputHidden from '@britania-crm/web-components/InputHidden'\nimport InputText from '@britania-crm/web-components/InputText'\nimport RadioGroup from '@britania-crm/web-components/RadioGroup'\n\nimport useStyles from '../styles'\n\nconst Financial = ({ disabled, formRef }) => {\n  const t = useT()\n  const classes = useStyles()\n\n  const [shortName, setShortName] = useState('')\n  const [nameMatrix, setNameMatrix] = useState('')\n\n  const handleParentDataFromApi = useCallback(\n    (value) => {\n      if (isEmpty(value)) {\n        formRef.current.setFieldError('financial.matrix', 'Matriz Invalida')\n      }\n    },\n    [formRef]\n  )\n\n  const { loading } = useCrmApi(nameMatrix ? [customerCrmRoutes.getInfoCustomer, nameMatrix] : null,\n    {\n      params: {\n        page: 1,\n        pageSize: 10,\n        parentCompany: nameMatrix\n      }\n    }\n    , {\n      onSuccess: handleParentDataFromApi,\n      revalidateOnFocus: false\n    })\n\n  const handleShortName = useCallback(\n    (value) => {\n      setShortName(value)\n    },\n    []\n  )\n\n  const handleValidNames = useCallback(\n    debounce((value) => {\n      if (value !== shortName) {\n        setNameMatrix(value)\n      }\n    }, 1000),\n    [shortName]\n  )\n\n  return (\n    <Grid container spacing={ 1 } className={ classes.containerMain } >\n      <Scope path=\"financial\">\n        <Grid item sm={ 12 } md={ 3 }>\n          <InputAutocomplete\n            url={ clientsCrmRoutes.getGroups }\n            paramName=\"nameClientGroup\"\n            valueKey=\"nameClientGroup\"\n            label={ t('customers group') }\n            name=\"clientGroup\"\n            disabled={ disabled }\n          />\n          <InputHidden name=\"clientGroupCode\" showError />\n        </Grid>\n        <Grid item sm={ 12 } md={ 5 }>\n          <InputText\n            name=\"shortName\"\n            label={ t('short name') }\n            disabled={ disabled }\n            onValueChange={ handleShortName }\n            maxLength={ 71 }\n          />\n        </Grid>\n        <Grid item sm={ 12 } md={ 6 }>\n          <InputText\n            name=\"matrix\"\n            label={ t('matrix', { howMany: 1 }) }\n            disabled={ disabled }\n            onValueChange={ handleValidNames }\n            maxLength={ 71 }\n            InputProps={ {\n              endAdornment: (\n                <InputAdornment position=\"end\">\n                  {loading && (\n                    <CircularProgress\n                      color=\"inherit\"\n                      size={ 18 }\n                    />\n                  ) }\n                </InputAdornment>\n              )\n            } }\n          />\n        </Grid>\n        <Grid item sm={ 12 } md={ 6 }>\n          <InputText\n            name=\"historic\"\n            label={ t('historic', { howMany: 1 }) }\n            disabled={ disabled }\n          />\n        </Grid>\n        <Grid item sm={ 12 } md={ 4 }>\n          <InputText\n            name=\"carrier\"\n            label={ t('carrier') }\n            disabled={ disabled }\n            maxLength={ 71 }\n          />\n        </Grid>\n        <Grid item sm={ 12 } md={ 4 }>\n          <RadioGroup\n            name=\"receivesNfe\"\n            options={ [{ id: true, name: t('receives nfe') }] }\n            clearable\n            disabled={ disabled }\n          />\n        </Grid>\n        <Grid item sm={ 12 } md={ 4 }>\n          <InputText\n            name=\"bankInstructions\"\n            label={ t('banking instructions') }\n            disabled={ disabled }\n            maxLength={ 71 }\n          />\n        </Grid>\n        <Grid item sm={ 12 } md={ 5 }>\n          <InputText\n            name=\"standardIncomeInstructions\"\n            label={ t('standard recipe instructions') }\n            disabled={ disabled }\n            maxLength={ 71 }\n          />\n        </Grid>\n        <Grid item sm={ 12 } md={ 7 } />\n        <Grid item sm={ 12 } md={ 3 }>\n          <RadioGroup\n            name=\"issueBankSlip\"\n            options={ [{ id: true, name: t('issues billet') }] }\n            clearable\n            disabled={ disabled }\n          />\n        </Grid>\n        <Grid item sm={ 12 } md={ 3 }>\n          <RadioGroup\n            name=\"generatesDebitNotice\"\n            options={ [{ id: true, name: t('generates debit notice') }] }\n            clearable\n            disabled={ disabled }\n          />\n        </Grid>\n        <Grid item sm={ 12 } md={ 3 }>\n          <RadioGroup\n            name=\"calculatesFine\"\n            options={ [{ id: true, name: t('calculates fine') }] }\n            clearable\n            disabled={ disabled }\n          />\n        </Grid>\n        <Grid item sm={ 12 } md={ 3 }>\n          <RadioGroup\n            name=\"receivesSciInformation\"\n            options={ [{ id: true, name: t('receives sci information') }] }\n            clearable\n            disabled={ disabled }\n          />\n        </Grid>\n        <Grid item sm={ 12 } md={ 3 }>\n          <RadioGroup\n            name=\"simpleClient\"\n            options={ [{ id: true, name: t('simple client') }] }\n            clearable\n            disabled={ disabled }\n          />\n        </Grid>\n        <Grid item sm={ 12 } md={ 3 }>\n          <RadioGroup\n            name=\"icmsTaxpayer\"\n            options={ [{ id: true, name: t('icms taxpayer') }] }\n            clearable\n            disabled={ disabled }\n          />\n        </Grid>\n        <Grid item sm={ 12 } md={ 3 }>\n          <RadioGroup\n            name=\"buysPhilco\"\n            options={ [{ id: true, name: t('receives nfe') }] }\n            clearable\n            disabled={ disabled }\n          />\n        </Grid>\n        <Grid item sm={ 12 } md={ 3 }>\n          <RadioGroup\n            name=\"fullNonCumulative\"\n            options={ [{ id: true, name: t('100% non-cumulative') }] }\n            clearable\n            disabled={ disabled }\n          />\n        </Grid>\n        <Grid item sm={ 12 } md={ 6 }>\n          <InputDate\n            name=\"expirationDate\"\n            label={ t('validity') }\n            disabled={ disabled }\n          />\n        </Grid>\n      </Scope>\n    </Grid>\n  )\n}\n\nFinancial.propTypes = { disabled: PropTypes.bool.isRequired, formRef: PropTypes.any.isRequired }\n\nexport default Financial\n"]},"metadata":{},"sourceType":"module"}