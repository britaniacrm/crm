{"ast":null,"code":"var _jsxFileName = \"/home/rafael/Documentos/britania/COM-front/packages/web/src/modules/workflow/containers/WorkFlowTaskExecution/JustificationEditComponent.js\";\nimport React, { useMemo, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport find from 'lodash/find';\nimport TextArea from '@britania-crm/web-components/TextArea';\n\nconst JustificationEditComponent = ({\n  value,\n  onChange,\n  rowData: {\n    workflowTaskResponseId,\n    responses,\n    isReadOnly\n  },\n  error,\n  helperText\n}) => {\n  const requiresJustification = useMemo(() => {\n    const currentResponse = find(responses, {\n      id: workflowTaskResponseId\n    });\n    return currentResponse === null || currentResponse === void 0 ? void 0 : currentResponse.requiresJustification;\n  }, [workflowTaskResponseId, responses]);\n  useEffect(() => {\n    if (!requiresJustification) {\n      onChange(null);\n    }\n  }, // eslint-disable-next-line react-hooks/exhaustive-deps\n  [requiresJustification]);\n  return /*#__PURE__*/React.createElement(TextArea, {\n    detached: true,\n    name: \"justification\",\n    value: value || '',\n    onChange: e => onChange(e.target.value),\n    disabled: isReadOnly,\n    error: !!requiresJustification && error ? helperText : undefined,\n    style: {\n      marginBottom: 0\n    },\n    rows: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 5\n    }\n  });\n};\n\nJustificationEditComponent.propTypes = {\n  onChange: PropTypes.func,\n  value: PropTypes.string,\n  error: PropTypes.bool.isRequired,\n  helperText: PropTypes.string,\n  rowData: PropTypes.shape({\n    workflowTaskResponseId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    responses: PropTypes.arrayOf(PropTypes.shape({\n      id: PropTypes.number\n    })),\n    isReadOnly: PropTypes.bool\n  }).isRequired\n};\nJustificationEditComponent.defaultProps = {\n  onChange() {},\n\n  value: '',\n  helperText: ''\n};\nexport default JustificationEditComponent;","map":{"version":3,"sources":["/home/rafael/Documentos/britania/COM-front/packages/web/src/modules/workflow/containers/WorkFlowTaskExecution/JustificationEditComponent.js"],"names":["React","useMemo","useEffect","PropTypes","find","TextArea","JustificationEditComponent","value","onChange","rowData","workflowTaskResponseId","responses","isReadOnly","error","helperText","requiresJustification","currentResponse","id","e","target","undefined","marginBottom","propTypes","func","string","bool","isRequired","shape","oneOfType","number","arrayOf","defaultProps"],"mappings":";AACA,OAAOA,KAAP,IACEC,OADF,EAEEC,SAFF,QAGO,OAHP;AAKA,OAAOC,SAAP,MAAsB,YAAtB;AAEA,OAAOC,IAAP,MAAiB,aAAjB;AAEA,OAAOC,QAAP,MAAqB,uCAArB;;AAEA,MAAMC,0BAA0B,GAAG,CAAC;AAClCC,EAAAA,KADkC;AAElCC,EAAAA,QAFkC;AAGlCC,EAAAA,OAAO,EAAE;AACPC,IAAAA,sBADO;AACiBC,IAAAA,SADjB;AAC4BC,IAAAA;AAD5B,GAHyB;AAMlCC,EAAAA,KANkC;AAOlCC,EAAAA;AAPkC,CAAD,KAQ7B;AACJ,QAAMC,qBAAqB,GAAGd,OAAO,CACnC,MAAM;AACJ,UAAMe,eAAe,GAAGZ,IAAI,CAACO,SAAD,EAAY;AAAEM,MAAAA,EAAE,EAAEP;AAAN,KAAZ,CAA5B;AACA,WAAOM,eAAP,aAAOA,eAAP,uBAAOA,eAAe,CAAED,qBAAxB;AACD,GAJkC,EAKnC,CAACL,sBAAD,EAAyBC,SAAzB,CALmC,CAArC;AAQAT,EAAAA,SAAS,CACP,MAAM;AACJ,QAAI,CAACa,qBAAL,EAA4B;AAC1BP,MAAAA,QAAQ,CAAC,IAAD,CAAR;AACD;AACF,GALM,EAMP;AACA,GAACO,qBAAD,CAPO,CAAT;AAUA,sBACE,oBAAC,QAAD;AACE,IAAA,QAAQ,MADV;AAEE,IAAA,IAAI,EAAC,eAFP;AAGE,IAAA,KAAK,EAAGR,KAAK,IAAI,EAHnB;AAIE,IAAA,QAAQ,EAAIW,CAAD,IAAOV,QAAQ,CAACU,CAAC,CAACC,MAAF,CAASZ,KAAV,CAJ5B;AAKE,IAAA,QAAQ,EAAGK,UALb;AAME,IAAA,KAAK,EAAI,CAAC,CAACG,qBAAF,IAA2BF,KAA5B,GAAqCC,UAArC,GAAkDM,SAN5D;AAOE,IAAA,KAAK,EAAG;AAAEC,MAAAA,YAAY,EAAE;AAAhB,KAPV;AAQE,IAAA,IAAI,EAAG,CART;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF;AAYD,CAvCD;;AAyCAf,0BAA0B,CAACgB,SAA3B,GAAuC;AACrCd,EAAAA,QAAQ,EAAEL,SAAS,CAACoB,IADiB;AAErChB,EAAAA,KAAK,EAAEJ,SAAS,CAACqB,MAFoB;AAGrCX,EAAAA,KAAK,EAAEV,SAAS,CAACsB,IAAV,CAAeC,UAHe;AAIrCZ,EAAAA,UAAU,EAAEX,SAAS,CAACqB,MAJe;AAKrCf,EAAAA,OAAO,EAAEN,SAAS,CAACwB,KAAV,CAAgB;AACvBjB,IAAAA,sBAAsB,EAAEP,SAAS,CAACyB,SAAV,CAAoB,CAC1CzB,SAAS,CAACqB,MADgC,EAE1CrB,SAAS,CAAC0B,MAFgC,CAApB,CADD;AAKvBlB,IAAAA,SAAS,EAAER,SAAS,CAAC2B,OAAV,CAAkB3B,SAAS,CAACwB,KAAV,CAAgB;AAAEV,MAAAA,EAAE,EAAEd,SAAS,CAAC0B;AAAhB,KAAhB,CAAlB,CALY;AAMvBjB,IAAAA,UAAU,EAAET,SAAS,CAACsB;AANC,GAAhB,EAONC;AAZkC,CAAvC;AAgBApB,0BAA0B,CAACyB,YAA3B,GAA0C;AACxCvB,EAAAA,QAAQ,GAAI,CAAE,CAD0B;;AAExCD,EAAAA,KAAK,EAAE,EAFiC;AAGxCO,EAAAA,UAAU,EAAE;AAH4B,CAA1C;AAMA,eAAeR,0BAAf","sourcesContent":["\nimport React, {\n  useMemo,\n  useEffect\n} from 'react'\n\nimport PropTypes from 'prop-types'\n\nimport find from 'lodash/find'\n\nimport TextArea from '@britania-crm/web-components/TextArea'\n\nconst JustificationEditComponent = ({\n  value,\n  onChange,\n  rowData: {\n    workflowTaskResponseId, responses, isReadOnly\n  },\n  error,\n  helperText\n}) => {\n  const requiresJustification = useMemo(\n    () => {\n      const currentResponse = find(responses, { id: workflowTaskResponseId })\n      return currentResponse?.requiresJustification\n    },\n    [workflowTaskResponseId, responses]\n  )\n\n  useEffect(\n    () => {\n      if (!requiresJustification) {\n        onChange(null)\n      }\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [requiresJustification]\n  )\n\n  return (\n    <TextArea\n      detached\n      name=\"justification\"\n      value={ value || '' }\n      onChange={ (e) => onChange(e.target.value) }\n      disabled={ isReadOnly }\n      error={ (!!requiresJustification && error) ? helperText : undefined }\n      style={ { marginBottom: 0 } }\n      rows={ 2 }\n    />\n  )\n}\n\nJustificationEditComponent.propTypes = {\n  onChange: PropTypes.func,\n  value: PropTypes.string,\n  error: PropTypes.bool.isRequired,\n  helperText: PropTypes.string,\n  rowData: PropTypes.shape({\n    workflowTaskResponseId: PropTypes.oneOfType([\n      PropTypes.string,\n      PropTypes.number\n    ]),\n    responses: PropTypes.arrayOf(PropTypes.shape({ id: PropTypes.number })),\n    isReadOnly: PropTypes.bool\n  }).isRequired\n\n}\n\nJustificationEditComponent.defaultProps = {\n  onChange () {},\n  value: '',\n  helperText: ''\n}\n\nexport default JustificationEditComponent\n"]},"metadata":{},"sourceType":"module"}