{"ast":null,"code":"import { put, call, takeLatest } from 'redux-saga/effects';\nimport { MSG027 } from '@britania-crm/constants/feedbackMessages.constants';\nimport { postCompany, putCompany } from '@britania-crm/services/apis/crmApi/resources/company.service';\nimport { AppActions } from '../app/app.actions';\nimport { CompanyTypes } from './companies.actions';\n\nfunction* doUpdateCompany({\n  params,\n  id,\n  onSuccess = () => {},\n  onError = () => {}\n}) {\n  try {\n    yield call(putCompany, params, id);\n    yield put(AppActions.addAlert({\n      type: 'success',\n      message: MSG027\n    }));\n    yield call(onSuccess);\n  } catch (error) {\n    yield put(AppActions.addAlert({\n      type: 'error',\n      message: 'Falha ao solicitar alteração cadastral da empresa'\n    }));\n    yield call(onError);\n  }\n}\n\nfunction* doSaveCompany({\n  params,\n  onSuccess = () => {},\n  onError = () => {}\n}) {\n  try {\n    yield call(postCompany, params);\n    yield put(AppActions.addAlert({\n      type: 'success',\n      message: 'Empresa cadastrada com sucesso!'\n    }));\n    yield call(onSuccess);\n  } catch (error) {\n    yield put(AppActions.addAlert({\n      type: 'error',\n      message: 'Falha ao salvar o empresa!'\n    }));\n    yield call(onError, error);\n  }\n}\n\nexport default [takeLatest(CompanyTypes.UPDATE_COMPANY, doUpdateCompany), takeLatest(CompanyTypes.SAVE_COMPANY, doSaveCompany)];","map":{"version":3,"sources":["/home/rafael/Documentos/britania/COM-front/packages/core/stores/companies/companies.sagas.js"],"names":["put","call","takeLatest","MSG027","postCompany","putCompany","AppActions","CompanyTypes","doUpdateCompany","params","id","onSuccess","onError","addAlert","type","message","error","doSaveCompany","UPDATE_COMPANY","SAVE_COMPANY"],"mappings":"AAAA,SACEA,GADF,EAEEC,IAFF,EAGEC,UAHF,QAIO,oBAJP;AAMA,SAASC,MAAT,QAAuB,oDAAvB;AACA,SACEC,WADF,EAEEC,UAFF,QAGO,8DAHP;AAKA,SAASC,UAAT,QAA2B,oBAA3B;AACA,SAASC,YAAT,QAA6B,qBAA7B;;AAEA,UAAUC,eAAV,CAA2B;AACzBC,EAAAA,MADyB;AAEzBC,EAAAA,EAFyB;AAGzBC,EAAAA,SAAS,GAAG,MAAM,CAAE,CAHK;AAIzBC,EAAAA,OAAO,GAAG,MAAM,CAAE;AAJO,CAA3B,EAKG;AACD,MAAI;AACF,UAAMX,IAAI,CAACI,UAAD,EAAaI,MAAb,EAAqBC,EAArB,CAAV;AACA,UAAMV,GAAG,CAACM,UAAU,CAACO,QAAX,CAAoB;AAAEC,MAAAA,IAAI,EAAE,SAAR;AAAmBC,MAAAA,OAAO,EAAEZ;AAA5B,KAApB,CAAD,CAAT;AACA,UAAMF,IAAI,CAACU,SAAD,CAAV;AACD,GAJD,CAIE,OAAOK,KAAP,EAAc;AACd,UAAMhB,GAAG,CAACM,UAAU,CAACO,QAAX,CAAoB;AAAEC,MAAAA,IAAI,EAAE,OAAR;AAAiBC,MAAAA,OAAO,EAAE;AAA1B,KAApB,CAAD,CAAT;AACA,UAAMd,IAAI,CAACW,OAAD,CAAV;AACD;AACF;;AAED,UAAUK,aAAV,CAAyB;AACvBR,EAAAA,MADuB;AACfE,EAAAA,SAAS,GAAG,MAAM,CAAE,CADL;AACOC,EAAAA,OAAO,GAAG,MAAM,CAAE;AADzB,CAAzB,EAEG;AACD,MAAI;AACF,UAAMX,IAAI,CAACG,WAAD,EAAcK,MAAd,CAAV;AACA,UAAMT,GAAG,CAACM,UAAU,CAACO,QAAX,CAAoB;AAAEC,MAAAA,IAAI,EAAE,SAAR;AAAmBC,MAAAA,OAAO,EAAE;AAA5B,KAApB,CAAD,CAAT;AAEA,UAAMd,IAAI,CAACU,SAAD,CAAV;AACD,GALD,CAKE,OAAOK,KAAP,EAAc;AACd,UAAMhB,GAAG,CAACM,UAAU,CAACO,QAAX,CAAoB;AAAEC,MAAAA,IAAI,EAAE,OAAR;AAAiBC,MAAAA,OAAO,EAAE;AAA1B,KAApB,CAAD,CAAT;AACA,UAAMd,IAAI,CAACW,OAAD,EAAUI,KAAV,CAAV;AACD;AACF;;AAED,eAAe,CACbd,UAAU,CAACK,YAAY,CAACW,cAAd,EAA8BV,eAA9B,CADG,EAEbN,UAAU,CAACK,YAAY,CAACY,YAAd,EAA4BF,aAA5B,CAFG,CAAf","sourcesContent":["import {\n  put,\n  call,\n  takeLatest\n} from 'redux-saga/effects'\n\nimport { MSG027 } from '@britania-crm/constants/feedbackMessages.constants'\nimport {\n  postCompany,\n  putCompany\n} from '@britania-crm/services/apis/crmApi/resources/company.service'\n\nimport { AppActions } from '../app/app.actions'\nimport { CompanyTypes } from './companies.actions'\n\nfunction* doUpdateCompany ({\n  params,\n  id,\n  onSuccess = () => {},\n  onError = () => {}\n}) {\n  try {\n    yield call(putCompany, params, id)\n    yield put(AppActions.addAlert({ type: 'success', message: MSG027 }))\n    yield call(onSuccess)\n  } catch (error) {\n    yield put(AppActions.addAlert({ type: 'error', message: 'Falha ao solicitar alteração cadastral da empresa' }))\n    yield call(onError)\n  }\n}\n\nfunction* doSaveCompany ({\n  params, onSuccess = () => {}, onError = () => {}\n}) {\n  try {\n    yield call(postCompany, params)\n    yield put(AppActions.addAlert({ type: 'success', message: 'Empresa cadastrada com sucesso!' }))\n\n    yield call(onSuccess)\n  } catch (error) {\n    yield put(AppActions.addAlert({ type: 'error', message: 'Falha ao salvar o empresa!' }))\n    yield call(onError, error)\n  }\n}\n\nexport default [\n  takeLatest(CompanyTypes.UPDATE_COMPANY, doUpdateCompany),\n  takeLatest(CompanyTypes.SAVE_COMPANY, doSaveCompany)\n]\n"]},"metadata":{},"sourceType":"module"}