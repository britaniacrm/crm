{"ast":null,"code":"var _jsxFileName = \"/home/rafael/Documentos/britania/COM-front/packages/web/src/modules/vpc/screens/Vpc/tabs/vpcOrders/VpcOrders.js\";\nimport React, { useCallback, useMemo, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { useDialog } from '@britania-crm/dialog';\nimport { useT } from '@britania-crm/i18n';\nimport { formatMoney } from '@britania-crm/utils/formatters';\nimport DataTable from '@britania-crm/web-components/DataTable';\nimport InputHidden from '@britania-crm/web-components/InputHidden';\nimport NewOrderModal from '@britania-crm/web-src/modules/vpc/modals/NewOrderModal';\nimport { Container } from './styles';\n\nconst VpcOrders = ({\n  disabled,\n  formRef\n}) => {\n  const t = useT();\n  const {\n    createDialog\n  } = useDialog();\n  const [orders, setOrders] = useState([]);\n  const columns = useMemo(() => [{\n    title: t('order number'),\n    field: 'requestNumber',\n    defaultSort: 'desc'\n  }, {\n    title: t('establishment code'),\n    field: 'establishmentCode',\n    sorting: false\n  }, {\n    title: t('name of the establishment'),\n    field: 'establishmentName',\n    sorting: false\n  }, {\n    title: t('value'),\n    field: 'value',\n    sorting: false,\n    render: row => formatMoney(row.value)\n  }], [t]);\n  const handleAddNewOrder = useCallback(() => createDialog({\n    id: 'modal-add-new-order',\n    Component: NewOrderModal,\n    props: {\n      onSubmit(order) {\n        formRef.current.setFieldValue('requests', old => [...old, order]);\n      }\n\n    }\n  }), [createDialog, formRef]);\n  return /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(DataTable, {\n    options: {\n      search: false\n    },\n    data: orders,\n    columns: columns,\n    title: t('order list'),\n    addTitle: t('add new order'),\n    onAddClick: !disabled && handleAddNewOrder,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(InputHidden, {\n    name: \"requests\",\n    showError: true,\n    onValueChange: setOrders,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }\n  }));\n};\n\nVpcOrders.propTypes = {\n  formRef: PropTypes.any.isRequired,\n  disabled: PropTypes.bool.isRequired\n};\nexport default VpcOrders;","map":{"version":3,"sources":["/home/rafael/Documentos/britania/COM-front/packages/web/src/modules/vpc/screens/Vpc/tabs/vpcOrders/VpcOrders.js"],"names":["React","useCallback","useMemo","useState","PropTypes","useDialog","useT","formatMoney","DataTable","InputHidden","NewOrderModal","Container","VpcOrders","disabled","formRef","t","createDialog","orders","setOrders","columns","title","field","defaultSort","sorting","render","row","value","handleAddNewOrder","id","Component","props","onSubmit","order","current","setFieldValue","old","search","propTypes","any","isRequired","bool"],"mappings":"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","sourcesContent":["import React, {\n  useCallback,\n  useMemo,\n  useState\n} from 'react'\n\nimport PropTypes from 'prop-types'\n\nimport { useDialog } from '@britania-crm/dialog'\nimport { useT } from '@britania-crm/i18n'\nimport { formatMoney } from '@britania-crm/utils/formatters'\nimport DataTable from '@britania-crm/web-components/DataTable'\nimport InputHidden from '@britania-crm/web-components/InputHidden'\nimport NewOrderModal from '@britania-crm/web-src/modules/vpc/modals/NewOrderModal'\n\nimport { Container } from './styles'\n\nconst VpcOrders = ({ disabled, formRef }) => {\n  const t = useT()\n  const { createDialog } = useDialog()\n\n  const [orders, setOrders] = useState([])\n\n  const columns = useMemo(\n    () => [\n      {\n        title: t('order number'),\n        field: 'requestNumber',\n        defaultSort: 'desc'\n      },\n      {\n        title: t('establishment code'),\n        field: 'establishmentCode',\n        sorting: false\n      },\n      {\n        title: t('name of the establishment'),\n        field: 'establishmentName',\n        sorting: false\n      },\n      {\n        title: t('value'),\n        field: 'value',\n        sorting: false,\n        render: (row) => formatMoney(row.value)\n      }\n    ],\n    [t]\n  )\n\n  const handleAddNewOrder = useCallback(\n    () => createDialog({\n      id: 'modal-add-new-order',\n      Component: NewOrderModal,\n      props: {\n        onSubmit (order) {\n          formRef.current.setFieldValue(\n            'requests',\n            (old) => [...old, order]\n          )\n        }\n      }\n    }),\n    [createDialog, formRef]\n  )\n\n  return (\n    <Container>\n      <DataTable\n        options={ { search: false } }\n        data={ orders }\n        columns={ columns }\n        title={ t('order list') }\n        addTitle={ t('add new order') }\n        onAddClick={ !disabled && handleAddNewOrder }\n      />\n      <InputHidden\n        name=\"requests\"\n        showError\n        onValueChange={ setOrders }\n      />\n    </Container>\n  )\n}\n\nVpcOrders.propTypes = {\n  formRef: PropTypes.any.isRequired,\n  disabled: PropTypes.bool.isRequired\n}\n\nexport default VpcOrders\n"]},"metadata":{},"sourceType":"module"}