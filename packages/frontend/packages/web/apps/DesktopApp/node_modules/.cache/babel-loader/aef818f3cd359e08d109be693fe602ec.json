{"ast":null,"code":"var _jsxFileName = \"/home/rafael/Documentos/britania/COM-front/packages/web/src/modules/vpc/screens/Vpc/tabs/vpcData/VpcData.js\";\nimport React, { useState, useCallback, useMemo } from 'react';\nimport { cpf, cnpj as cnpjValidator } from 'cpf-cnpj-validator';\nimport PropTypes from 'prop-types';\nimport debounce from 'lodash/debounce';\nimport first from 'lodash/first';\nimport isEmpty from 'lodash/isEmpty';\nimport map from 'lodash/map';\nimport { Grid, Typography } from '@material-ui/core';\nimport FiberManualRecordIcon from '@material-ui/icons/FiberManualRecord';\nimport InfoIcon from '@material-ui/icons/Info';\nimport { useDialog } from '@britania-crm/dialog';\nimport { useFormEffect } from '@britania-crm/forms';\nimport { INITIAL_VALUES } from '@britania-crm/forms/schemas/vpc/vpc.schema';\nimport I18n, { useT } from '@britania-crm/i18n';\nimport { vpc as vpcRoutes, users as usersRoutes, bank as bankCrmRoutes, customer as customerCrmRoutes } from '@britania-crm/services/apis/crmApi/resources/routes';\nimport useCrmApi from '@britania-crm/services/hooks/useCrmApi';\nimport { colors } from '@britania-crm/styles';\nimport { trimMask } from '@britania-crm/utils/formatters';\nimport Checkbox from '@britania-crm/web-components/Checkbox';\nimport InputAutocomplete from '@britania-crm/web-components/InputAutocomplete';\nimport InputCpfCnpj from '@britania-crm/web-components/InputCpfCnpj';\nimport InputDate from '@britania-crm/web-components/InputDate';\nimport InputDateRange from '@britania-crm/web-components/InputDateRange';\nimport InputHidden from '@britania-crm/web-components/InputHidden';\nimport InputMoney from '@britania-crm/web-components/InputMoney';\nimport InputNumber from '@britania-crm/web-components/InputNumber';\nimport InputSelect from '@britania-crm/web-components/InputSelect';\nimport InputText from '@britania-crm/web-components/InputText';\nimport TextArea from '@britania-crm/web-components/TextArea';\nimport LineFamilyBlock from '@britania-crm/web-src/modules/vpc/containers/LineFamilyBlock';\nimport CustomerContract from '@britania-crm/web-src/modules/vpc/modals/CustomerContract';\nimport WorkFlowExecution from '@britania-crm/web-src/modules/workflow/containers/WorkFlowExecution';\nimport { Container, FlexContainer, Info, Label } from './styles';\nexport const VpcData = ({\n  disabled,\n  formRef,\n  permissions,\n  workflowTaskInProgress,\n  id,\n  deploymentDate\n}) => {\n  const t = useT();\n  const {\n    createDialog\n  } = useDialog();\n  const [cnpj, setCnpj] = useState('');\n  const [parentCompany, setParentCompany] = useState({});\n  const [paymentType, setPaymentType] = useState('');\n  const [foundType, setFoundType] = useState('');\n  const [approverCode, setApproverCode] = useState('');\n  const banckParams = useMemo(() => ({\n    page: 1,\n    pageSize: 10\n  }), []);\n  const {\n    data: clientsFromApi\n  } = useCrmApi(cnpj && cnpj !== (parentCompany === null || parentCompany === void 0 ? void 0 : parentCompany.cnpj) ? [customerCrmRoutes.getInfoCustomer, cnpj] : null, {\n    params: {\n      clientRegistrationType: 'REGISTER',\n      cnpj,\n      page: 1,\n      pageSize: 10\n    }\n  }, {\n    revalidateOnFocus: false,\n\n    onSuccess(value) {\n      handleCompany(first(value));\n    }\n\n  });\n  const foundOptions = useMemo(() => [{\n    id: 'EXTRA',\n    name: 'EXTRA'\n  }, {\n    id: 'NORMAL',\n    name: 'NORMAL'\n  }, {\n    id: 'CONTRATUAL',\n    name: 'CONTRATUAL'\n  }], []);\n  const paymentOptions = useMemo(() => [{\n    id: 'DESCONTO DUPLICATA',\n    name: 'Desconto Duplicata'\n  }, {\n    id: 'DEPOSITO',\n    name: 'Deposito'\n  }, {\n    id: 'MERCADORIA',\n    name: 'Mercadoria'\n  }], []);\n  const parentCompanyParams = useMemo(() => ({\n    page: 1,\n    pageSize: 10,\n    clientRegistrationType: 'REGISTER'\n  }), []);\n  const handleChangeCnpj = useCallback(debounce(value => {\n    if (!value) {\n      setCnpj('');\n    }\n\n    if (trimMask(value).length === 11) {\n      cpf.isValid(trimMask(value)) && setCnpj(trimMask(value));\n    }\n\n    if (trimMask(value).length === 14) {\n      cnpjValidator.isValid(trimMask(value)) && setCnpj(trimMask(value));\n    }\n  }, 500), [clientsFromApi]);\n  const handleCompany = useCallback(value => {\n    if (!isEmpty(value)) {\n      setParentCompany(value);\n      formRef.current.setFieldValue('cnpj', value === null || value === void 0 ? void 0 : value.cnpj);\n      formRef.current.setFieldValue('parentCompanyCode', value);\n      formRef.current.setFieldValue('parentCompany', value);\n      formRef.current.setFieldValue('companyName', value === null || value === void 0 ? void 0 : value.companyName);\n    } else {\n      setParentCompany({});\n    }\n  }, [formRef]);\n  const handleChangeValue = useCallback((_, fieldMounted) => fieldMounted && formRef.current.validateField('nds'), [formRef]);\n  const handleInfoCustomerContract = useCallback(() => createDialog({\n    id: 'modal-customer-contract',\n    Component: CustomerContract,\n    props: {\n      parentCompanyCode: parentCompany === null || parentCompany === void 0 ? void 0 : parentCompany.parentCompanyCode,\n      responsibleCode: approverCode\n    }\n  }), [approverCode, createDialog, parentCompany.parentCompanyCode]);\n  useFormEffect(() => {\n    if (isEmpty(parentCompany)) {\n      formRef.current.setFieldValue('cnpj', INITIAL_VALUES.cnpj);\n      formRef.current.setFieldValue('parentCompanyCode', INITIAL_VALUES.parentCompanyCode);\n      formRef.current.setFieldValue('parentCompany', INITIAL_VALUES.parentCompany);\n    }\n  }, [formRef, parentCompany]);\n  return /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    spacing: 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    md: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(InputCpfCnpj, {\n    label: \"CPF/CNPJ\",\n    name: \"cnpj\",\n    disabled: disabled,\n    onValueChange: handleChangeCnpj,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    md: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(InputAutocomplete, {\n    name: \"parentCompany\",\n    label: t('matrix'),\n    url: customerCrmRoutes.getInfoCustomer,\n    disabled: disabled,\n    valueKey: \"parentCompanyName\",\n    paramName: \"parentCompany\",\n    params: parentCompanyParams,\n    onValueChange: handleCompany,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    md: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(InputAutocomplete, {\n    name: \"parentCompanyCode\",\n    label: t('matrix code', {\n      abbreviation: false\n    }),\n    url: customerCrmRoutes.getInfoCustomer,\n    disabled: disabled,\n    valueKey: \"parentCompanyCode\",\n    paramName: \"parentCompanyCode\",\n    params: parentCompanyParams,\n    onValueChange: handleCompany,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    md: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(InputText, {\n    label: t('company name'),\n    name: \"companyName\",\n    disabled: disabled,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    md: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(InputSelect, {\n    name: \"foundsType\",\n    label: t('type of funds'),\n    options: foundOptions,\n    disabled: disabled,\n    onValueChange: setFoundType,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    md: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(InputSelect, {\n    name: \"paymentType\",\n    label: t('type of payment'),\n    options: paymentOptions,\n    onValueChange: setPaymentType,\n    disabled: disabled,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 11\n    }\n  })), paymentType === 'DEPOSITO' && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    md: 5,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(InputAutocomplete, {\n    name: \"bank\",\n    label: t('bank'),\n    url: bankCrmRoutes.getAll,\n    params: banckParams,\n    normalizeDataFn: options => map(options, ({\n      code,\n      description\n    }) => ({\n      code,\n      description,\n      label: `${code} - ${description}`\n    })),\n    valueKey: \"label\",\n    paramName: \"description\",\n    disabled: disabled,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    md: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(InputNumber, {\n    name: \"bankAgency\",\n    label: t('agency', {\n      howMany: 1\n    }),\n    maxLength: 4,\n    disabled: disabled,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    md: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(InputNumber, {\n    name: \"bankAccount\",\n    label: t('account', {\n      howMany: 1\n    }),\n    maxLength: 4,\n    disabled: disabled,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    md: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 278,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(InputCpfCnpj, {\n    name: \"bankCnpj\",\n    label: \"CNPJ\",\n    mode: \"cnpj\",\n    disabled: disabled,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 279,\n      columnNumber: 15\n    }\n  }))), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    md: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(InputText, {\n    label: t('request number'),\n    name: \"requestNumber\",\n    disabled: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 289,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    md: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 295,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(InputDate, {\n    detached: true,\n    value: deploymentDate,\n    label: t('implantation date'),\n    name: \"deploymentDate\",\n    disabled: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 296,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    md: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 304,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(InputMoney, {\n    label: t('value'),\n    name: \"value\",\n    disabled: disabled,\n    onValueChange: handleChangeValue,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 305,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    md: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 312,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(InputNumber, {\n    label: t('negotiation number'),\n    name: \"negotiationNumber\",\n    disabled: disabled || foundType !== 'EXTRA',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 313,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 319,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(LineFamilyBlock, {\n    formRef: formRef,\n    disabled: disabled,\n    parentCompany: parentCompany,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 320,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    md: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 326,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(TextArea, {\n    label: `${t('campaign')}/${t('reason')}`,\n    name: \"campaignReason\",\n    disabled: disabled,\n    maxLength: 500,\n    rows: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 327,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    md: 5,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 335,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(InputDateRange, {\n    name: \"period\",\n    label: t('period', {\n      howMany: 1\n    }),\n    disabled: disabled,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 336,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    md: 4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 342,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(InputAutocomplete, {\n    name: \"approverCode\",\n    label: t('approver'),\n    url: usersRoutes.regionalManager,\n    valueKey: \"description\",\n    paramName: \"code\",\n    disabled: disabled,\n    onValueChange: setApproverCode,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 343,\n      columnNumber: 11\n    }\n  })), !!id && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    md: 1,\n    style: {\n      display: 'flex'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 355,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(FlexContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 356,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 357,\n      columnNumber: 17\n    }\n  }, t('status')), /*#__PURE__*/React.createElement(Checkbox, {\n    detached: true,\n    disabled: true,\n    style: {\n      color: colors.black2\n    },\n    label: formRef.current.getFieldValue('status') ? t('active') : t('inactive'),\n    value: formRef.current.getFieldValue('status'),\n    icon: /*#__PURE__*/React.createElement(FiberManualRecordIcon, {\n      fontSize: \"small\",\n      htmlColor: colors.error.main,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 364,\n        columnNumber: 26\n      }\n    }),\n    checkedIcon: /*#__PURE__*/React.createElement(FiberManualRecordIcon, {\n      fontSize: \"small\",\n      htmlColor: colors.success.main,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 365,\n        columnNumber: 33\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 358,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(InputHidden, {\n    name: \"status\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 367,\n      columnNumber: 17\n    }\n  }))), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    md: 5,\n    style: {\n      display: 'flex'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 373,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(InputText, {\n    label: t('situation'),\n    name: \"situation\",\n    disabled: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 374,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    md: 4,\n    style: {\n      display: 'flex'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 380,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(InputText, {\n    label: t('responsible', {\n      howMany: 1\n    }),\n    name: \"responsible\",\n    disabled: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 381,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 387,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Info, {\n    onClick: handleInfoCustomerContract,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 388,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 389,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(InfoIcon, {\n    htmlColor: colors.info.main,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 390,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(I18n, {\n    as: Typography,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 391,\n      columnNumber: 19\n    }\n  }, \"customer contract information\"))))), permissions && disabled && /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    sm: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 399,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(WorkFlowExecution, {\n    baseUrl: vpcRoutes.getOne.replace(':vpcId', id),\n    taskInProgress: workflowTaskInProgress,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 400,\n      columnNumber: 13\n    }\n  }))));\n};\nVpcData.propTypes = {\n  disabled: PropTypes.bool.isRequired,\n  formRef: PropTypes.any.isRequired,\n  permissions: PropTypes.bool.isRequired,\n  workflowTaskInProgress: PropTypes.object,\n  id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  deploymentDate: PropTypes.string\n};\nVpcData.defaultProps = {\n  id: '',\n  workflowTaskInProgress: {},\n  deploymentDate: null\n};\nexport default VpcData;","map":{"version":3,"sources":["/home/rafael/Documentos/britania/COM-front/packages/web/src/modules/vpc/screens/Vpc/tabs/vpcData/VpcData.js"],"names":["React","useState","useCallback","useMemo","cpf","cnpj","cnpjValidator","PropTypes","debounce","first","isEmpty","map","Grid","Typography","FiberManualRecordIcon","InfoIcon","useDialog","useFormEffect","INITIAL_VALUES","I18n","useT","vpc","vpcRoutes","users","usersRoutes","bank","bankCrmRoutes","customer","customerCrmRoutes","useCrmApi","colors","trimMask","Checkbox","InputAutocomplete","InputCpfCnpj","InputDate","InputDateRange","InputHidden","InputMoney","InputNumber","InputSelect","InputText","TextArea","LineFamilyBlock","CustomerContract","WorkFlowExecution","Container","FlexContainer","Info","Label","VpcData","disabled","formRef","permissions","workflowTaskInProgress","id","deploymentDate","t","createDialog","setCnpj","parentCompany","setParentCompany","paymentType","setPaymentType","foundType","setFoundType","approverCode","setApproverCode","banckParams","page","pageSize","data","clientsFromApi","getInfoCustomer","params","clientRegistrationType","revalidateOnFocus","onSuccess","value","handleCompany","foundOptions","name","paymentOptions","parentCompanyParams","handleChangeCnpj","length","isValid","current","setFieldValue","companyName","handleChangeValue","_","fieldMounted","validateField","handleInfoCustomerContract","Component","props","parentCompanyCode","responsibleCode","abbreviation","getAll","options","code","description","label","howMany","regionalManager","display","color","black2","getFieldValue","error","main","success","info","getOne","replace","propTypes","bool","isRequired","any","object","oneOfType","string","number","defaultProps"],"mappings":"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","sourcesContent":["import React, {\n  useState,\n  useCallback,\n  useMemo\n} from 'react'\n\nimport {\n  cpf,\n  cnpj as cnpjValidator\n} from 'cpf-cnpj-validator'\nimport PropTypes from 'prop-types'\n\nimport debounce from 'lodash/debounce'\nimport first from 'lodash/first'\nimport isEmpty from 'lodash/isEmpty'\nimport map from 'lodash/map'\n\nimport {\n  Grid,\n  Typography\n} from '@material-ui/core'\nimport FiberManualRecordIcon from '@material-ui/icons/FiberManualRecord'\nimport InfoIcon from '@material-ui/icons/Info'\n\nimport { useDialog } from '@britania-crm/dialog'\nimport { useFormEffect } from '@britania-crm/forms'\nimport { INITIAL_VALUES } from '@britania-crm/forms/schemas/vpc/vpc.schema'\nimport I18n, { useT } from '@britania-crm/i18n'\nimport {\n  vpc as vpcRoutes,\n  users as usersRoutes,\n  bank as bankCrmRoutes,\n  customer as customerCrmRoutes\n} from '@britania-crm/services/apis/crmApi/resources/routes'\nimport useCrmApi from '@britania-crm/services/hooks/useCrmApi'\nimport { colors } from '@britania-crm/styles'\nimport { trimMask } from '@britania-crm/utils/formatters'\nimport Checkbox from '@britania-crm/web-components/Checkbox'\nimport InputAutocomplete from '@britania-crm/web-components/InputAutocomplete'\nimport InputCpfCnpj from '@britania-crm/web-components/InputCpfCnpj'\nimport InputDate from '@britania-crm/web-components/InputDate'\nimport InputDateRange from '@britania-crm/web-components/InputDateRange'\nimport InputHidden from '@britania-crm/web-components/InputHidden'\nimport InputMoney from '@britania-crm/web-components/InputMoney'\nimport InputNumber from '@britania-crm/web-components/InputNumber'\nimport InputSelect from '@britania-crm/web-components/InputSelect'\nimport InputText from '@britania-crm/web-components/InputText'\nimport TextArea from '@britania-crm/web-components/TextArea'\nimport LineFamilyBlock from '@britania-crm/web-src/modules/vpc/containers/LineFamilyBlock'\nimport CustomerContract from '@britania-crm/web-src/modules/vpc/modals/CustomerContract'\nimport WorkFlowExecution from '@britania-crm/web-src/modules/workflow/containers/WorkFlowExecution'\n\nimport {\n  Container,\n  FlexContainer,\n  Info,\n  Label\n} from './styles'\n\nexport const VpcData = ({\n  disabled, formRef, permissions, workflowTaskInProgress, id, deploymentDate\n}) => {\n  const t = useT()\n  const { createDialog } = useDialog()\n\n  const [cnpj, setCnpj] = useState('')\n  const [parentCompany, setParentCompany] = useState({})\n  const [paymentType, setPaymentType] = useState('')\n  const [foundType, setFoundType] = useState('')\n  const [approverCode, setApproverCode] = useState('')\n\n  const banckParams = useMemo(\n    () =>\n      ({\n        page: 1,\n        pageSize: 10\n      }\n      )\n    , [])\n\n  const { data: clientsFromApi } = useCrmApi(\n    (cnpj && cnpj !== parentCompany?.cnpj)\n      ? [customerCrmRoutes.getInfoCustomer, cnpj]\n      : null,\n    {\n      params: {\n        clientRegistrationType: 'REGISTER',\n        cnpj,\n        page: 1,\n        pageSize: 10\n      }\n    },\n    {\n      revalidateOnFocus: false,\n      onSuccess (value) {\n        handleCompany(first(value))\n      }\n    }\n  )\n\n  const foundOptions = useMemo(\n    () => [\n      { id: 'EXTRA', name: 'EXTRA' },\n      { id: 'NORMAL', name: 'NORMAL' },\n      { id: 'CONTRATUAL', name: 'CONTRATUAL' }\n    ],\n    []\n  )\n\n  const paymentOptions = useMemo(\n    () => [\n      { id: 'DESCONTO DUPLICATA', name: 'Desconto Duplicata' },\n      { id: 'DEPOSITO', name: 'Deposito' },\n      { id: 'MERCADORIA', name: 'Mercadoria' }\n    ],\n    []\n  )\n\n  const parentCompanyParams = useMemo(\n    () => ({\n      page: 1,\n      pageSize: 10,\n      clientRegistrationType: 'REGISTER'\n    }),\n    []\n  )\n\n  const handleChangeCnpj = useCallback(\n    debounce(\n      (value) => {\n        if (!value) {\n          setCnpj('')\n        }\n        if (trimMask(value).length === 11) {\n          cpf.isValid(trimMask(value)) && setCnpj(trimMask(value))\n        }\n        if (trimMask(value).length === 14) {\n          cnpjValidator.isValid(trimMask(value)) && setCnpj(trimMask(value))\n        }\n      },\n      500\n    ),\n    [clientsFromApi]\n  )\n\n  const handleCompany = useCallback(\n    (value) => {\n      if (!isEmpty(value)) {\n        setParentCompany(value)\n        formRef.current.setFieldValue('cnpj', value?.cnpj)\n        formRef.current.setFieldValue('parentCompanyCode', value)\n        formRef.current.setFieldValue('parentCompany', value)\n        formRef.current.setFieldValue('companyName', value?.companyName)\n      } else {\n        setParentCompany({})\n      }\n    },\n    [formRef]\n  )\n\n  const handleChangeValue = useCallback(\n    (_, fieldMounted) => fieldMounted && formRef.current.validateField('nds'),\n    [formRef]\n  )\n\n  const handleInfoCustomerContract = useCallback(\n    () => createDialog({\n      id: 'modal-customer-contract',\n      Component: CustomerContract,\n      props: {\n        parentCompanyCode: parentCompany?.parentCompanyCode,\n        responsibleCode: approverCode\n      }\n    }),\n    [approverCode, createDialog, parentCompany.parentCompanyCode]\n  )\n\n  useFormEffect(() => {\n    if (isEmpty(parentCompany)) {\n      formRef.current.setFieldValue('cnpj', INITIAL_VALUES.cnpj)\n      formRef.current.setFieldValue('parentCompanyCode', INITIAL_VALUES.parentCompanyCode)\n      formRef.current.setFieldValue('parentCompany', INITIAL_VALUES.parentCompany)\n    }\n  }, [formRef, parentCompany])\n\n  return (\n    <Container>\n      <Grid container spacing={ 1 }>\n        <Grid item xs={ 12 } md={ 3 }>\n          <InputCpfCnpj\n            label=\"CPF/CNPJ\"\n            name=\"cnpj\"\n            disabled={ disabled }\n            onValueChange={ handleChangeCnpj }\n          />\n        </Grid>\n        <Grid item xs={ 12 } md={ 6 }>\n          <InputAutocomplete\n            name=\"parentCompany\"\n            label={ t('matrix') }\n            url={ customerCrmRoutes.getInfoCustomer }\n            disabled={ disabled }\n            valueKey=\"parentCompanyName\"\n            paramName=\"parentCompany\"\n            params={ parentCompanyParams }\n            onValueChange={ handleCompany }\n          />\n        </Grid>\n        <Grid item xs={ 12 } md={ 3 }>\n          <InputAutocomplete\n            name=\"parentCompanyCode\"\n            label={ t('matrix code', { abbreviation: false }) }\n            url={ customerCrmRoutes.getInfoCustomer }\n            disabled={ disabled }\n            valueKey=\"parentCompanyCode\"\n            paramName=\"parentCompanyCode\"\n            params={ parentCompanyParams }\n            onValueChange={ handleCompany }\n          />\n        </Grid>\n        <Grid item xs={ 12 } md={ 6 }>\n          <InputText\n            label={ t('company name') }\n            name=\"companyName\"\n            disabled={ disabled }\n          />\n        </Grid>\n        <Grid item xs={ 12 } md={ 3 }>\n          <InputSelect\n            name=\"foundsType\"\n            label={ t('type of funds') }\n            options={ foundOptions }\n            disabled={ disabled }\n            onValueChange={ setFoundType }\n          />\n        </Grid>\n        <Grid item xs={ 12 } md={ 3 }>\n          <InputSelect\n            name=\"paymentType\"\n            label={ t('type of payment') }\n            options={ paymentOptions }\n            onValueChange={ setPaymentType }\n            disabled={ disabled }\n          />\n        </Grid>\n        {paymentType === 'DEPOSITO' && (\n          <>\n            <Grid item xs={ 12 } md={ 5 }>\n              <InputAutocomplete\n                name=\"bank\"\n                label={ t('bank') }\n                url={ bankCrmRoutes.getAll }\n                params={ banckParams }\n                normalizeDataFn={ (options) => map(options, ({ code, description }) => ({\n                  code, description, label: `${ code } - ${ description }`\n                })) }\n                valueKey=\"label\"\n                paramName=\"description\"\n                disabled={ disabled }\n              />\n            </Grid>\n            <Grid item xs={ 12 } md={ 2 }>\n              <InputNumber\n                name=\"bankAgency\"\n                label={ t('agency', { howMany: 1 }) }\n                maxLength={ 4 }\n                disabled={ disabled }\n              />\n            </Grid>\n            <Grid item xs={ 12 } md={ 2 }>\n              <InputNumber\n                name=\"bankAccount\"\n                label={ t('account', { howMany: 1 }) }\n                maxLength={ 4 }\n                disabled={ disabled }\n              />\n            </Grid>\n            <Grid item xs={ 12 } md={ 3 }>\n              <InputCpfCnpj\n                name=\"bankCnpj\"\n                label=\"CNPJ\"\n                mode=\"cnpj\"\n                disabled={ disabled }\n              />\n            </Grid>\n          </>\n        )}\n        <Grid item xs={ 12 } md={ 3 }>\n          <InputText\n            label={ t('request number') }\n            name=\"requestNumber\"\n            disabled\n          />\n        </Grid>\n        <Grid item xs={ 12 } md={ 3 }>\n          <InputDate\n            detached\n            value={ deploymentDate }\n            label={ t('implantation date') }\n            name=\"deploymentDate\"\n            disabled\n          />\n        </Grid>\n        <Grid item xs={ 12 } md={ 3 }>\n          <InputMoney\n            label={ t('value') }\n            name=\"value\"\n            disabled={ disabled }\n            onValueChange={ handleChangeValue }\n          />\n        </Grid>\n        <Grid item xs={ 12 } md={ 3 }>\n          <InputNumber\n            label={ t('negotiation number') }\n            name=\"negotiationNumber\"\n            disabled={ disabled || foundType !== 'EXTRA' }\n          />\n        </Grid>\n        <Grid item xs={ 12 }>\n          <LineFamilyBlock\n            formRef={ formRef }\n            disabled={ disabled }\n            parentCompany={ parentCompany }\n          />\n        </Grid>\n        <Grid item xs={ 12 } md={ 12 }>\n          <TextArea\n            label={ `${ t('campaign') }/${ t('reason') }` }\n            name=\"campaignReason\"\n            disabled={ disabled }\n            maxLength={ 500 }\n            rows={ 2 }\n          />\n        </Grid>\n        <Grid item xs={ 12 } md={ 5 }>\n          <InputDateRange\n            name=\"period\"\n            label={ t('period', { howMany: 1 }) }\n            disabled={ disabled }\n          />\n        </Grid>\n        <Grid item xs={ 12 } md={ 4 }>\n          <InputAutocomplete\n            name=\"approverCode\"\n            label={ t('approver') }\n            url={ usersRoutes.regionalManager }\n            valueKey=\"description\"\n            paramName=\"code\"\n            disabled={ disabled }\n            onValueChange={ setApproverCode }\n          />\n        </Grid>\n        {!!id && (\n          <>\n            <Grid item xs={ 12 } md={ 1 } style={ { display: 'flex' } }>\n              <FlexContainer>\n                <Label>{t('status')}</Label>\n                <Checkbox\n                  detached\n                  disabled={ true }\n                  style={ { color: colors.black2 } }\n                  label={ formRef.current.getFieldValue('status') ? t('active') : t('inactive') }\n                  value={ formRef.current.getFieldValue('status') }\n                  icon={ <FiberManualRecordIcon fontSize=\"small\" htmlColor={ colors.error.main } /> }\n                  checkedIcon={ <FiberManualRecordIcon fontSize=\"small\" htmlColor={ colors.success.main } /> }\n                />\n                <InputHidden name=\"status\" />\n\n              </FlexContainer>\n\n            </Grid>\n\n            <Grid item xs={ 12 } md={ 5 } style={ { display: 'flex' } }>\n              <InputText\n                label={ t('situation') }\n                name=\"situation\"\n                disabled={ true }\n              />\n            </Grid>\n            <Grid item xs={ 12 } md={ 4 } style={ { display: 'flex' } }>\n              <InputText\n                label={ t('responsible', { howMany: 1 }) }\n                name=\"responsible\"\n                disabled={ true }\n              />\n            </Grid>\n            <Grid item xs={ 12 }>\n              <Info onClick={ handleInfoCustomerContract }>\n                <div>\n                  <InfoIcon htmlColor={ colors.info.main }/>\n                  <I18n as={ Typography }>customer contract information</I18n>\n                </div>\n              </Info>\n            </Grid>\n          </>\n        )}\n\n        {permissions && disabled && (\n          <Grid item sm={ 12 }>\n            <WorkFlowExecution\n              baseUrl={ vpcRoutes.getOne.replace(':vpcId', id) }\n              taskInProgress={ workflowTaskInProgress }\n            />\n          </Grid>\n        )}\n      </Grid>\n    </Container>\n  )\n}\n\nVpcData.propTypes = {\n  disabled: PropTypes.bool.isRequired,\n  formRef: PropTypes.any.isRequired,\n  permissions: PropTypes.bool.isRequired,\n  workflowTaskInProgress: PropTypes.object,\n  id: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.number\n  ]),\n  deploymentDate: PropTypes.string\n}\n\nVpcData.defaultProps = {\n  id: '',\n  workflowTaskInProgress: {},\n  deploymentDate: null\n}\n\nexport default VpcData\n"]},"metadata":{},"sourceType":"module"}