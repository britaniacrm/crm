{"ast":null,"code":"var _jsxFileName = \"/home/rafael/Documentos/britania/COM-front/packages/web/src/modules/profiles/tables/PermissionExceptionsTable/PermissionExceptionsTable.js\";\nimport React, { useMemo, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { map } from 'lodash-es';\nimport { useDialog } from '@britania-crm/dialog';\nimport { useT } from '@britania-crm/i18n';\nimport { colors } from '@britania-crm/styles';\nimport fonts from '@britania-crm/styles/fonts';\nimport DataTable from '@britania-crm/web-components/DataTable';\nimport ConfirmModal from '@britania-crm/web-components/Modal/ConfirmModal';\nimport PermissionExceptionsModal from '../../modals/PermissionExceptionsModal/PermissionExceptionsModal';\n\nconst PermissionExceptionsTable = ({\n  exceptionsList,\n  onDelete,\n  onEdit\n}) => {\n  const t = useT();\n  const {\n    createDialog\n  } = useDialog();\n  const columns = useMemo(() => [{\n    title: 'Menu',\n    field: 'menu',\n    defaultSort: 'asc'\n  }, {\n    title: 'Exceção',\n    field: 'hideFields'\n  }], []);\n  const data = useMemo(() => map(exceptionsList, ({\n    access,\n    permission\n  }) => ({\n    accessId: access.id,\n    menu: access === null || access === void 0 ? void 0 : access.name,\n    hideFields: map(permission, item => item.name).join(' - '),\n    access,\n    permission\n  })), [exceptionsList]);\n  const onDeleteClick = useCallback((event, row) => createDialog({\n    id: 'delete-exception-modal',\n    Component: ConfirmModal,\n    props: {\n      onConfirm() {\n        onDelete(row);\n      }\n\n    }\n  }), [createDialog, onDelete]);\n  const permissionModal = useCallback((event, row) => createDialog({\n    id: 'permission-modal',\n    Component: PermissionExceptionsModal,\n    props: {\n      onSave: onEdit,\n      permissions: row.permission,\n      access: [row.access],\n      isEdit: true\n    }\n  }), [createDialog, onEdit]);\n  return /*#__PURE__*/React.createElement(DataTable, {\n    title: `${t('permission exception')}:`,\n    titleProps: {\n      variant: 'subtitle1',\n      style: {\n        color: colors.grey3,\n        fontWeight: fonts.fontWeight.regular\n      }\n    },\n    options: {\n      search: false\n    },\n    columns: columns,\n    data: data,\n    onEditClick: permissionModal,\n    onDeleteClick: onDeleteClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 5\n    }\n  });\n};\n\nPermissionExceptionsTable.propTypes = {\n  exceptionsList: PropTypes.array.isRequired,\n  onDelete: PropTypes.func,\n  onEdit: PropTypes.func\n};\nPermissionExceptionsTable.defaultProps = {\n  onDelete() {},\n\n  onEdit() {}\n\n};\nexport default PermissionExceptionsTable;","map":{"version":3,"sources":["/home/rafael/Documentos/britania/COM-front/packages/web/src/modules/profiles/tables/PermissionExceptionsTable/PermissionExceptionsTable.js"],"names":["React","useMemo","useCallback","PropTypes","map","useDialog","useT","colors","fonts","DataTable","ConfirmModal","PermissionExceptionsModal","PermissionExceptionsTable","exceptionsList","onDelete","onEdit","t","createDialog","columns","title","field","defaultSort","data","access","permission","accessId","id","menu","name","hideFields","item","join","onDeleteClick","event","row","Component","props","onConfirm","permissionModal","onSave","permissions","isEdit","variant","style","color","grey3","fontWeight","regular","search","propTypes","array","isRequired","func","defaultProps"],"mappings":"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","sourcesContent":["import React, {\n  useMemo,\n  useCallback\n} from 'react'\n\nimport PropTypes from 'prop-types'\n\nimport { map } from 'lodash-es'\n\nimport { useDialog } from '@britania-crm/dialog'\nimport { useT } from '@britania-crm/i18n'\nimport { colors } from '@britania-crm/styles'\nimport fonts from '@britania-crm/styles/fonts'\nimport DataTable from '@britania-crm/web-components/DataTable'\nimport ConfirmModal from '@britania-crm/web-components/Modal/ConfirmModal'\n\nimport PermissionExceptionsModal from '../../modals/PermissionExceptionsModal/PermissionExceptionsModal'\n\nconst PermissionExceptionsTable = ({\n  exceptionsList, onDelete, onEdit\n}) => {\n  const t = useT()\n  const { createDialog } = useDialog()\n  const columns = useMemo(() => [\n    {\n      title: 'Menu',\n      field: 'menu',\n      defaultSort: 'asc'\n    },\n    {\n      title: 'Exceção',\n      field: 'hideFields'\n    }\n  ], [])\n\n  const data = useMemo(() => map(exceptionsList, ({ access, permission }) => ({\n    accessId: access.id,\n    menu: access?.name,\n    hideFields: map(permission, (item) => (item.name)).join(' - '),\n    access,\n    permission\n  })), [exceptionsList])\n\n  const onDeleteClick = useCallback((event, row) => createDialog({\n    id: 'delete-exception-modal',\n    Component: ConfirmModal,\n    props: {\n      onConfirm () {\n        onDelete(row)\n      }\n    }\n  }), [createDialog, onDelete])\n\n  const permissionModal = useCallback(\n    (event, row) =>\n      createDialog({\n        id: 'permission-modal',\n        Component: PermissionExceptionsModal,\n        props: {\n          onSave: onEdit,\n          permissions: row.permission,\n          access: [row.access],\n          isEdit: true\n        }\n      }),\n    [createDialog, onEdit]\n  )\n\n  return (\n    <DataTable\n      title={ `${ t('permission exception') }:` }\n      titleProps={ {\n        variant: 'subtitle1',\n        style: { color: colors.grey3, fontWeight: fonts.fontWeight.regular }\n      } }\n      options={ { search: false } }\n      columns={ columns }\n      data={ data }\n      onEditClick={ permissionModal }\n      onDeleteClick={ onDeleteClick }\n    />\n  )\n}\n\nPermissionExceptionsTable.propTypes = {\n  exceptionsList: PropTypes.array.isRequired,\n  onDelete: PropTypes.func,\n  onEdit: PropTypes.func\n}\n\nPermissionExceptionsTable.defaultProps = {\n  onDelete () {},\n  onEdit () {}\n}\n\nexport default PermissionExceptionsTable\n"]},"metadata":{},"sourceType":"module"}