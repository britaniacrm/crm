{"ast":null,"code":"\"use strict\";\n/*\nCopyright (c) 2014, Yahoo! Inc. All rights reserved.\nCopyrights licensed under the New BSD License.\nSee the accompanying LICENSE file for terms.\n*/\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/* jslint esnext: true */\n\nvar round = Math.round;\n\nfunction daysToYears(days) {\n  // 400 years have 146097 days (taking into account leap year rules)\n  return days * 400 / 146097;\n} // Thanks to date-fns\n// https://github.com/date-fns/date-fns\n// MIT © Sasha Koss\n\n\nvar MILLISECONDS_IN_MINUTE = 60000;\nvar MILLISECONDS_IN_DAY = 86400000;\n\nfunction startOfDay(dirtyDate) {\n  var date = new Date(dirtyDate);\n  date.setHours(0, 0, 0, 0);\n  return date;\n}\n\nfunction differenceInCalendarDays(dirtyDateLeft, dirtyDateRight) {\n  var startOfDayLeft = startOfDay(dirtyDateLeft);\n  var startOfDayRight = startOfDay(dirtyDateRight);\n  var timestampLeft = startOfDayLeft.getTime() - startOfDayLeft.getTimezoneOffset() * MILLISECONDS_IN_MINUTE;\n  var timestampRight = startOfDayRight.getTime() - startOfDayRight.getTimezoneOffset() * MILLISECONDS_IN_MINUTE; // Round the number of days to the nearest integer\n  // because the number of milliseconds in a day is not constant\n  // (e.g. it's different in the day of the daylight saving time clock shift)\n\n  return Math.round((timestampLeft - timestampRight) / MILLISECONDS_IN_DAY);\n}\n\nfunction default_1(from, to) {\n  // Convert to ms timestamps.\n  from = +from;\n  to = +to;\n  var millisecond = round(to - from),\n      second = round(millisecond / 1000),\n      minute = round(second / 60),\n      hour = round(minute / 60); // We expect a more precision in rounding when dealing with\n  // days as it feels wrong when something happended 13 hours ago and\n  // is regarded as \"yesterday\" even if the time was this morning.\n\n  var day = differenceInCalendarDays(to, from);\n  var week = round(day / 7);\n  var rawYears = daysToYears(day),\n      month = round(rawYears * 12),\n      year = round(rawYears);\n  return {\n    millisecond: millisecond,\n    second: second,\n    'second-short': second,\n    minute: minute,\n    'minute-short': minute,\n    hour: hour,\n    'hour-short': hour,\n    day: day,\n    'day-short': day,\n    week: week,\n    'week-short': week,\n    month: month,\n    'month-short': month,\n    year: year,\n    'year-short': year\n  };\n}\n\nexports.default = default_1;","map":{"version":3,"sources":["../src/diff.js"],"names":[],"mappings":";AAAA;;;;AAIE;;;;;AAEF;;AAEA,IAAI,KAAK,GAAG,IAAI,CAAC,KAAjB;;AAEA,SAAS,WAAT,CAAqB,IAArB,EAAyB;AACrB;AACA,SAAO,IAAI,GAAG,GAAP,GAAa,MAApB;AACH,C,CAED;AACA;AACA;;;AAEA,IAAI,sBAAsB,GAAG,KAA7B;AACA,IAAI,mBAAmB,GAAG,QAA1B;;AAEA,SAAS,UAAT,CAAqB,SAArB,EAA8B;AAC1B,MAAI,IAAI,GAAG,IAAI,IAAJ,CAAS,SAAT,CAAX;AACA,EAAA,IAAI,CAAC,QAAL,CAAc,CAAd,EAAiB,CAAjB,EAAoB,CAApB,EAAuB,CAAvB;AACA,SAAO,IAAP;AACH;;AAED,SAAS,wBAAT,CAAmC,aAAnC,EAAkD,cAAlD,EAAgE;AAC5D,MAAI,cAAc,GAAG,UAAU,CAAC,aAAD,CAA/B;AACA,MAAI,eAAe,GAAG,UAAU,CAAC,cAAD,CAAhC;AAEA,MAAI,aAAa,GAAG,cAAc,CAAC,OAAf,KAChB,cAAc,CAAC,iBAAf,KAAqC,sBADzC;AAEA,MAAI,cAAc,GAAG,eAAe,CAAC,OAAhB,KACjB,eAAe,CAAC,iBAAhB,KAAsC,sBAD1C,CAN4D,CAS5D;AACA;AACA;;AACA,SAAO,IAAI,CAAC,KAAL,CAAW,CAAC,aAAa,GAAG,cAAjB,IAAmC,mBAA9C,CAAP;AACH;;AAED,SAAA,SAAA,CAAyB,IAAzB,EAA+B,EAA/B,EAAiC;AAC7B;AACA,EAAA,IAAI,GAAG,CAAC,IAAR;AACA,EAAA,EAAE,GAAK,CAAC,EAAR;AAEA,MAAI,WAAW,GAAG,KAAK,CAAC,EAAE,GAAG,IAAN,CAAvB;AAAA,MACI,MAAM,GAAQ,KAAK,CAAC,WAAW,GAAG,IAAf,CADvB;AAAA,MAEI,MAAM,GAAQ,KAAK,CAAC,MAAM,GAAG,EAAV,CAFvB;AAAA,MAGI,IAAI,GAAU,KAAK,CAAC,MAAM,GAAG,EAAV,CAHvB,CAL6B,CAUzB;AACA;AACA;;AAEJ,MAAI,GAAG,GAAG,wBAAwB,CAAC,EAAD,EAAK,IAAL,CAAlC;AACA,MAAI,IAAI,GAAG,KAAK,CAAC,GAAG,GAAG,CAAP,CAAhB;AAEA,MAAI,QAAQ,GAAG,WAAW,CAAC,GAAD,CAA1B;AAAA,MACI,KAAK,GAAM,KAAK,CAAC,QAAQ,GAAG,EAAZ,CADpB;AAAA,MAEI,IAAI,GAAO,KAAK,CAAC,QAAD,CAFpB;AAIA,SAAO;AACH,IAAA,WAAW,EAAM,WADd;AAEH,IAAA,MAAM,EAAW,MAFd;AAGH,oBAAiB,MAHd;AAIH,IAAA,MAAM,EAAW,MAJd;AAKH,oBAAiB,MALd;AAMH,IAAA,IAAI,EAAa,IANd;AAOH,kBAAiB,IAPd;AAQH,IAAA,GAAG,EAAc,GARd;AASH,iBAAiB,GATd;AAUH,IAAA,IAAI,EAAa,IAVd;AAWH,kBAAiB,IAXd;AAYH,IAAA,KAAK,EAAY,KAZd;AAaH,mBAAiB,KAbd;AAcH,IAAA,IAAI,EAAa,IAdd;AAeH,kBAAiB;AAfd,GAAP;AAiBH;;AAtCD,OAAA,CAAA,OAAA,GAAA,SAAA","sourceRoot":"","sourcesContent":["\"use strict\";\n/*\nCopyright (c) 2014, Yahoo! Inc. All rights reserved.\nCopyrights licensed under the New BSD License.\nSee the accompanying LICENSE file for terms.\n*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/* jslint esnext: true */\nvar round = Math.round;\nfunction daysToYears(days) {\n    // 400 years have 146097 days (taking into account leap year rules)\n    return days * 400 / 146097;\n}\n// Thanks to date-fns\n// https://github.com/date-fns/date-fns\n// MIT © Sasha Koss\nvar MILLISECONDS_IN_MINUTE = 60000;\nvar MILLISECONDS_IN_DAY = 86400000;\nfunction startOfDay(dirtyDate) {\n    var date = new Date(dirtyDate);\n    date.setHours(0, 0, 0, 0);\n    return date;\n}\nfunction differenceInCalendarDays(dirtyDateLeft, dirtyDateRight) {\n    var startOfDayLeft = startOfDay(dirtyDateLeft);\n    var startOfDayRight = startOfDay(dirtyDateRight);\n    var timestampLeft = startOfDayLeft.getTime() -\n        startOfDayLeft.getTimezoneOffset() * MILLISECONDS_IN_MINUTE;\n    var timestampRight = startOfDayRight.getTime() -\n        startOfDayRight.getTimezoneOffset() * MILLISECONDS_IN_MINUTE;\n    // Round the number of days to the nearest integer\n    // because the number of milliseconds in a day is not constant\n    // (e.g. it's different in the day of the daylight saving time clock shift)\n    return Math.round((timestampLeft - timestampRight) / MILLISECONDS_IN_DAY);\n}\nfunction default_1(from, to) {\n    // Convert to ms timestamps.\n    from = +from;\n    to = +to;\n    var millisecond = round(to - from), second = round(millisecond / 1000), minute = round(second / 60), hour = round(minute / 60);\n    // We expect a more precision in rounding when dealing with\n    // days as it feels wrong when something happended 13 hours ago and\n    // is regarded as \"yesterday\" even if the time was this morning.\n    var day = differenceInCalendarDays(to, from);\n    var week = round(day / 7);\n    var rawYears = daysToYears(day), month = round(rawYears * 12), year = round(rawYears);\n    return {\n        millisecond: millisecond,\n        second: second,\n        'second-short': second,\n        minute: minute,\n        'minute-short': minute,\n        hour: hour,\n        'hour-short': hour,\n        day: day,\n        'day-short': day,\n        week: week,\n        'week-short': week,\n        month: month,\n        'month-short': month,\n        year: year,\n        'year-short': year\n    };\n}\nexports.default = default_1;\n//# sourceMappingURL=diff.js.map"]},"metadata":{},"sourceType":"script"}